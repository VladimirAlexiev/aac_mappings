{"version":3,"sources":["webpack:///./site/react/index.jsx","webpack:///./site/react/sidebar.jsx","webpack:///./site/react/header.jsx","webpack:///./site/react/header_wrapper.jsx","webpack:///./site/react/widgets/search_input_field.jsx","webpack:///./site/react/lib/constants.jsx","webpack:///./site/react/footer.jsx","webpack:///./site/react/item/item_display.jsx","webpack:///./site/react/item/title.jsx","webpack:///./site/react/item/sparql_search.jsx","webpack:///./site/react/widgets/modal_trigger.jsx","webpack:///./site/react/item/sparql_results.jsx","webpack:///./site/react/widgets/github_issue.jsx","webpack:///./site/react/lib/helpers.jsx","webpack:///./site/react/item/mapping.jsx","webpack:///./site/react/widgets/content_modal.jsx"],"names":["SEARCH_DATA","name","endpoint","predicate","prefix","E39_Actor","default","App","createClass","getInitialState","loading","modal","show","fields","entity_uri","componentDidMount","ajax","getJSON","ENTITY_TYPE","done","initializeData","fail","x","msg","console","log","data","defaultSectionId","window","location","hash","setHashValues","getHashValues","id","search","addEventListener","handleNewHash","fieldSortFunction","a","b","sort_order","setState","sort","obj","undefined","state","currentItem","search_index","findIndex","v","bits","replace","split","Number","showModal","content","title","html","render","currentSearchEndpoint","find","currentFields","val","document","getElementById","Sidebar","_this","items","props","map","field","index","description","category","gotoField","applies_to","SidebarListItem","handleClick","func","classes","selected","header","prev_category","desc","Header","modalLoading","setEntityUri","getCurrentEntityURI","componentDidUpdate","prevProps","searchAgainst","loadObjectData","e","type","target","post","generateObjectData","handleDataReturn","_","errorText","error","showObjectGraph","el","objIndex","crm","values","entity_type","return_type","sourceButtons","source","setSearch","topButtons","bottomButtons","ENTITY_FIELD_NAME","children","bottomButtonsLabel","topButtonsLabel","value","handleChange","handleKeyDown","keyCode","preventDefault","componentWillReceiveProps","nextProps","id_val","placeholder","default_value","the_input","the_link","the_label","stacked","y","Date","getFullYear","copyright_year","mandatory","multiples","long_description","example","lod_type","construct","graph_extras","SparqlSearch","results","isSearching","autoSearch","currentEntity","serializeArray","doSearch","forEach","submission","select","where","handleResults","cols","filter","input_boxes","field_name","query_fields","length","the_title","text","columns","table_headers","select_item","predicates","Object","assign","table_rows","result","i","cells","key","test","object","issueTitle","encodeURIComponent","issueBody","query","issueLinkUrl","truncate","str","len","url_predicates","keys","includes","substring","ItemMapping","svg","getSvg","ttl","extras","svg_url","svgImage","btn","fieldTitle","ContentModal","modalProps","contentObj","__html","onHide"],"mappings":"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","file":"app.js","sourcesContent":["// Import Libraries\nimport $           from \"jquery\";\nimport React       from 'react';\nimport {render}    from 'react-dom';\n\n// Import Components\nimport Sidebar     from './sidebar.jsx';\nimport Header      from \"./header.jsx\";\nimport Footer      from \"./footer.jsx\";\nimport ItemDisplay from \"./item/item_display.jsx\";\nimport ContentModal from \"./widgets/content_modal.jsx\";\n\n\n//-----------------------------------------------------------------------------\n// This is the known set of RDF endpoints that we can search against.   \n\nconst SEARCH_DATA = [\n  {\n    name:           \"YCBA\", \n    endpoint:       \"http://collection.britishart.yale.edu/openrdf-sesame/repositories/ycba\",\n    predicate:      \"http://erlangen-crm.org/current/\",\n    prefix:         {\"ycba\": \"http://collection.britishart.yale.edu/\"},\n    E39_Actor: {\n      default:  null\n    },\n    \"E22_Man-Made_Object\": {\n      default: \"http://collection.britishart.yale.edu/id/object/1000\"  \n    }\n  },\n  {\n    name:           \"SAAM\", \n    endpoint:       \"http://edan.si.edu/saam/sparql\",\n    predicate:      \"http://www.cidoc-crm.org/cidoc-crm/\",\n    prefix:         {\"saam\": \"http://edan.si.edu/saam/\"},\n\n    E39_Actor: {\n      default:  null\n    },\n    \"E22_Man-Made_Object\": {\n      default: \"http://edan.si.edu/saam/id/object/1991.189\"  \n    }\n  },\n  {\n    name:           \"British Museum\", \n    endpoint:       \"http://collection.britishmuseum.org/sparql\",\n    predicate:      \"http://erlangen-crm.org/current/\",\n    prefix:         {\"bm\": \"http://collection.britishmuseum.org/\"},\n\n    E39_Actor: {\n      default: \"http://collection.britishmuseum.org/id/person-institution/70240\"\n    },\n    \"E22_Man-Made_Object\": {\n      default: \"http://collection.britishmuseum.org/id/object/YCA62958\"\n    }\n  }\n]\n\n//-----------------------------------------------------------------------------\n// This is the \"brains\" of the application.  It controls the global state of\n// the system, which includes navigation and loading the data in.\nvar App = React.createClass({\n  \n  // Lifecycle Events\n  getInitialState: function() {\n    return {\n      loading: true,           // Has the application gotten the main data?\n      modal: {\n        show:false,            // Is the modal visible?\n      },\n      fields: null,             // This will be filled in with the field list\n      entity_uri: null\n    }\n  },\n\n  componentDidMount: function() {\n    let ajax = $.getJSON(\"/data?entity_type=\"+ENTITY_TYPE);\n    ajax.done(this.initializeData);\n    ajax.fail((x,msg)=> console.log(`Error getting json: ${msg}`));\n  },\n\n  //-------------------------------\n  // Handle initial field data load, \n  // set up the hash navigation\n  initializeData: function(data) { \n \n     // Setup Hash Navigation\n    let defaultSectionId = 0;\n    if (window.location.hash) {\n      this.setHashValues(this.getHashValues());\n    }\n    else {\n      this.setHashValues({id: 0, search: SEARCH_DATA[0].name});\n    }\n    window.addEventListener('hashchange', this.handleNewHash, false);\n\n    // Update state with the field data\n    let fieldSortFunction = function(a,b) {\n      return (a.sort_order || 0) >= (b.sort_order || 0) ? 1 : -1;\n    }\n    this.setState({\n      loading: false, \n      fields: data.sort(fieldSortFunction)\n    });\n  },\n\n  setHashValues: function(obj) {\n    if (obj.id == undefined) {\n      obj.id = this.state.currentItem;\n    } else {\n      this.setState({currentItem: obj.id});\n    }\n\n    if (obj.search == undefined) {\n      obj.search = this.state.search;\n    } else {\n      this.setState({search: obj.search});\n    }\n    let search_index = SEARCH_DATA.findIndex((v) => v.name == obj.search);\n    window.location.hash = `field_${obj.id}-search_${search_index}`;\n  },\n  getHashValues: function() {\n    let bits = window.location.hash.replace(\"#\",\"\").split(\"-\")\n    let id   = Number(bits[0].replace(\"field_\",\"\"))\n    let search  = SEARCH_DATA[Number(bits[1].replace(\"search_\",\"\"))].name;\n    return {id: id, search: search}\n  },\n  //-------------------------------\n  // Handle hash changes (for back button)\n  handleNewHash: function() {\n    this.setHashValues(this.getHashValues());\n  },\n\n  //-------------------------------\n  // Handle showing the global modal.  \n  // TODO:  This is probably the wrong layer to keep this in.\n  showModal: function (content, title=\"\", html=false) {\n    this.setState({modal: {content: content, title: title, show: true, html: html}});\n  },\n  \n  // Render function\n  render: function() {\n    if (this.state.loading) {return false;}\n\n    let currentSearchEndpoint = SEARCH_DATA.find((endpoint)=>(this.state.search == endpoint.name))\n    let currentFields = this.state.fields[this.state.currentItem]\n    \n    return (\n      <main>\n        <Header \n            searchAgainst=   {this.state.search}\n            data=            {SEARCH_DATA} \n            setSearch=       {(val) => this.setHashValues({search: val})}\n            showObjectGraph= {this.showModal}\n            setEntityUri=    {(val) => this.setState({entity_uri: val})}\n        />\n        <div className='container-fluid'>\n          <div className=\"row\">\n            <Sidebar \n                fields=      {this.state.fields} \n                gotoField=   {(id) => this.setHashValues({id: id})}\n                currentItem= {this.state.currentItem}\n             />\n            <ItemDisplay   \n                {...currentFields} \n                search={currentSearchEndpoint} \n                showModal={this.showModal}\n                currentEntity={this.state.entity_uri}\n            />\n          </div>\n        </div>\n        <ContentModal \n            {...this.state.modal}\n            onHide= {() => this.setState({ modal: {show: false }})} />\n        <Footer/>\n      </main>\n    )\n  }\n});\n\n//-----------------------------------------------------------------------------\nrender(\n  <App />,\n  document.getElementById('app')\n);\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/index.jsx\n **/","import React from 'react';\nimport classNames from 'classnames';\n\n//-----------------------------------------------------------------------------\nvar Sidebar = React.createClass({\n  render: function() {\n\n    var _this = this;\n\n    var items = this.props.fields.map(function(field, index) {\n       return <SidebarListItem  \n          id={index} \n          name={field.title} \n          desc={field.description}\n          key={`${field.category}_${field.title}`} \n          func={_this.props.gotoField}\n          applies_to={field.applies_to}\n          category={field.category}\n          prev_category={index == 0 ? \"\" : _this.props.fields[index-1].category}\n          selected={index == _this.props.currentItem}\n        />\n    });\n\n    return (\n      <div className=\"col-md-3 col-lg-2 sidebar hidden-print\">\n        <dl>\n          {items}\n        </dl>\n      </div>\n    )\n  }\n})\n\n//-----------------------------------------------------------------------------\nvar SidebarListItem = React.createClass({\n  handleClick: function() {\n    this.props.func(this.props.id);\n  },\n  render: function() {\n\n    let classes = classNames(\n      \"sidebar_item\",\n      {selected: this.props.selected}\n    );\n\n    let header = false\n    if (this.props.category != this.props.prev_category) {\n      header = (<h5> {this.props.category} </h5>)\n    }\n\n    return ( \n        <div>\n          {header}\n          <div className={classes} onClick={this.handleClick}>\n            <dt> {this.props.name} </dt>\n            <dd> {this.props.desc} </dd> \n          </div>\n        </div>\n    );\n  }\n})\n\n//-----------------------------------------------------------------------------\nexport default Sidebar;\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/sidebar.jsx\n **/","import React from 'react';\nimport { Button, ButtonGroup} from 'react-bootstrap';\nimport $ from \"jquery\";\nimport HeaderWrapper    from \"./header_wrapper.jsx\"\nimport SearchInputField from './widgets/search_input_field.jsx'\nimport Constants        from './lib/constants.jsx'\n\nconst Header = React.createClass({\n\n  getInitialState: function() {\n    return {modalLoading: false}\n  },\n  componentDidMount: function() {\n    this.props.setEntityUri(this.getCurrentEntityURI()); \n  },\n\n  componentDidUpdate: function(prevProps) {\n    if (prevProps.searchAgainst != this.props.searchAgainst) {\n      this.props.setEntityUri(this.getCurrentEntityURI()); \n    }\n  },\n\n  loadObjectData: function(e) {\n    if (this.state.modalLoading) {return false;}\n    this.setState({modalLoading: true});\n    const type = $(e.target).data('type');\n    const title = $(e.target).data('modal-title');\n    const html = type == \"report\"\n    let ajax = $.post(\"/full_graph\",this.generateObjectData(type), \"text\");\n    ajax.done((data) => this.handleDataReturn(data,title,html));\n    ajax.fail((_,errorText,error) => {\n      this.props.showObjectGraph(error);\n      this.setState({modalLoading: false})\n    })\n  },\n  getCurrentEntityURI: function() {\n   return this.props.data.find( (el)=> el.name == this.props.searchAgainst)[ENTITY_TYPE].default; \n  },\n  handleDataReturn: function(data, title,html) {\n    this.props.showObjectGraph(data, title,html);\n    this.setState({modalLoading: false})\n  },\n  generateObjectData: function(type=\"ttl\") {\n    var objIndex = this.props.data.findIndex( (el)=> el.name == this.props.searchAgainst)  \n    return {\n      endpoint: this.props.data[objIndex].endpoint,\n      crm: this.props.data[objIndex].predicate,\n      values: {entity_uri: this.getCurrentEntityURI()},\n      entity_type: ENTITY_TYPE,\n      return_type: type\n    }\n  },\n\n  render: function() {\n    let title = ENTITY_TYPE;\n\n    let sourceButtons = this.props.data.map((source, index) => {\n      return (<Button \n        active={this.props.searchAgainst == source.name} \n        onClick={() =>this.props.setSearch(source.name)}\n        key={index}\n      >\n        {source.name}\n      </Button>)\n    });\n\n    let topButtons = (\n      <ButtonGroup bsSize=\"small\" role=\"group\" className='search_buttons'>\n        {sourceButtons}\n      </ButtonGroup>\n    )\n\n    let bottomButtons = (\n        <ButtonGroup bsSize=\"small\" role=\"group\" className='download_buttons'>\n          <Button\n             data-type=\"ttl\"\n             data-modal-title=\"Entity as Linked Open Data (in Turtle)\"\n             disabled= {this.state.modalLoading}\n             onClick={this.loadObjectData}>\n            Turtle\n          </Button>\n          <Button\n             data-type=\"nested_ttl\"\n             data-modal-title=\"Entity as Turtle (Nested Graph with Blank Nodes)\"\n             disabled={this.state.modalLoading}\n             onClick={this.loadObjectData}>\n            Turtle (Nested)\n          </Button>\n          <Button\n             data-type=\"json\"\n             data-modal-title=\"JSON Representation of the Entity\"\n             disabled ={this.state.modalLoading}\n             onClick={this.loadObjectData}>\n            JSON\n          </Button>\n          <Button\n             data-type=\"report\"\n             data-modal-title=\"Entity Validation Report\"\n             disabled ={this.state.modalLoading}\n             onClick={this.loadObjectData}>\n            Report\n          </Button>\n        </ButtonGroup>\n    )\n\n    return (\n      <HeaderWrapper \n          title={title} \n          bottomButtonsLabel=\"Current SPARQL Endpoint:\"\n          bottomButtons={topButtons} \n          topButtonsLabel={this.state.modalLoading ? \"Processing...\" : \"Export Entity As:\"} \n          topButtons={bottomButtons}\n      >\n        <SearchInputField \n          func={this.props.setEntityUri} \n          value={Constants.ENTITY_FIELD_NAME} \n          default={this.getCurrentEntityURI()} \n          title=\"Current Entity URI\"\n          stacked />\n      </HeaderWrapper>\n    )\n  }\n});\n\nexport default Header;\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/header.jsx\n **/","import React from 'react';\n\n\nexport default function(props){\n\n  return (\n    <header className=\"container-fluid page_header hidden-print\">\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <div className=\"pull-left logo\"><a href=\"/\"><img src=\"/images/aac_logo.png\"/></a></div>\n          <h1>AAC Mapping Validator</h1>\n          <h2>{props.title}</h2>\n        </div>\n      </div>\n      <div className=\"row header_interface\">\n        <div className=\"col-sm-6 col-lg-4 col-lg-offset-2 \">\n          {props.children}\n        </div>\n        <div className=\"col-sm-5 col-lg-6\">\n          <div className=\"pull-left\">\n            <label className=\"btn_group_label\">{props.bottomButtonsLabel}</label>\n            <div className=\"btn-toolbar\">\n              {props.bottomButtons}\n            </div>\n          </div>\n          <div className=\"pull-right\">\n            <label className=\"btn_group_label\">{props.topButtonsLabel}</label>\n            <div className=\"btn-toolbar\">\n              {props.topButtons}\n            </div>\n          </div>\n        </div>\n      \n      </div>\n    </header>\n  )\n};\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/header_wrapper.jsx\n **/","import React from 'react';\n\nexport default React.createClass({\n  getInitialState: function() {\n    return {value: (this.props.default || \"\")}\n  },\n  handleChange: function(e) {\n    this.setState({value: e.target.value});\n  },\n  handleKeyDown: function(e) {\n    console.log(e.keyCode);\n    if(e.keyCode == 13 && this.props.func){\n      this.props.func(this.state.value);\n      e.preventDefault();\n    }\n  },\n  componentWillReceiveProps: function(nextProps){\n    if (nextProps.default != this.props.default) {\n      this.setState({value: (nextProps.default || \"\")});\n    }\n  },\n  render: function() {\n   \n    let id_val=`sparql_${this.props.value}`;\n    let title = this.props.title || this.props.value.replace(/_/g, \" \");\n    let placeholder=`Enter a ${title}`;\n    let default_value = this.props.default;\n\n    let the_input = (\n      <input \n        type=\"text\" \n        className=\"form-control\" \n        name={this.props.value} \n        id={id_val} \n        placeholder={placeholder} \n        value={this.state.value} \n        onChange={this.handleChange}\n        onKeyDown={this.handleKeyDown}\n      />\n    )\n\n    let the_link = <a className=\"search_link\" href={this.state.value} target=\"_blank\">(link)</a>\n \n    let the_label = <label htmlFor={id_val} style={{\"textTransform\": \"capitalize\"}}>{title}:</label>\n\n\n    if(this.props.stacked) {\n      return (\n      <div className=\"form-group form-group-sm\">\n        {the_label} {the_link}\n        <div className=\"input-group\">\n          {the_input}\n          <span className=\"input-group-btn\">\n            <button \n              className=\"btn btn-sm btn-default\" \n              type=\"button\"\n              onClick={()=>(this.props.func(this.state.value))}\n              >\n              Search</button>\n          </span>\n        </div>\n      </div>\n      )\n    }\n\n    return (\n      <div className=\"form-group\">\n          <div className=\"col-sm-3 col-md-offset-1 text-right\">\n            {the_label}\n          </div>\n          <div className=\"col-sm-7\">\n            {the_input}\n          </div>\n          <div className=\"col-sm-1 hidden-print\">\n            {the_link}\n          </div>\n      </div>\n    )\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/widgets/search_input_field.jsx\n **/","export default {\n  ENTITY_FIELD_NAME: \"entity_uri\"\n}\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/lib/constants.jsx\n **/","import React from 'react';\n\nexport default function(props) {\n  let y = new Date().getFullYear();\n  let copyright_year =  y == 2016 ? \"2016\" : `2016-${y}`;\n  return (\n  <footer>\n    <p>\n      Developed by <a href=\"http://www.designforcontext.com\" target=\"_blank\">Design for Context</a>.  Copyright © {copyright_year}.\n    </p>\n    <p>\n      This is a project of the <a href=\"http://americanartcollaborative.org/\" target=\"_blank\">American Art Collaborative</a>.\n      Source code available on <a href=\"https://github.com/workergnome/aac_mappings\" target=\"_blank\">Github</a>.\n    </p>\n  </footer>\n  )\n}\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/footer.jsx\n **/","/******************************************************************************\n*\n*  This is a wrapper class for the main item display screen.  \n*  No functionality, no state.  Just sending properties where they belong.\n*  \n******************************************************************************/\n\nimport React from 'react';\n\nimport ItemTitle    from './title.jsx';\nimport SparqlSearch from './sparql_search.jsx';\nimport ItemMapping  from './mapping.jsx';\n\nexport default function(props) {\n\n  return (\n    <div className=\"col-sm-9 col-lg-8 col-lg-offset-1 app\">\n\n      <ItemTitle \n        title={props.title}\n        mandatory={props.mandatory}\n        multiples={props.multiples}\n        description={props.long_description ? props.long_description : props.description}\n        example={props.example}\n        lod_type={props.lod_type}\n      />\n\n      <SparqlSearch {...props}/>\n\n      <ItemMapping fieldTitle={props.title} construct={props.construct} extras={props.graph_extras} showModal={props.showModal}/>\n    </div>\n  )\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/item/item_display.jsx\n **/","/******************************************************************************\n*\n*  This is the Item Display title section, with the badges and the metadata.\n*  No functionality, just a display template.\n*  \n******************************************************************************/\n\nimport React from 'react';\n\nexport default  function(props) {\n  return (\n    <section className=\"field_info\">\n\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <h2 className=\"field_name\">\n            {props.title}\n            {/*\n            <span className='badge'>{props.mandatory ? \"Mandatory\" : \"\"}</span>\n            <span className='badge'>{props.multiples ? \"\" : \"Only One Allowed\"}</span>\n            */}\n          </h2>\n          <p className=\"main_desc\">{props.description}</p>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <dl className=\"dl-horizontal\">\n            <dt>Sample Data: </dt>\n            <dd>{props.example}</dd>\n            <dt>Mandatory:</dt>\n            <dd>{props.mandatory ? \"Yes\" : \"No\"}</dd>\n            <dt>Multiples:</dt>\n            <dd>{props.multiples ? \"Yes\" : \"No\"}</dd>\n            <dt>{props.lod_type ? \"Associated AAC ID:\" : \"\"}</dt>\n            <dd><a href={props.lod_type} target=\"_blank\">{props.lod_type}</a></dd>\n          </dl>\n        </div>\n      </div>\n    </section>\n  );\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/item/title.jsx\n **/","import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport $ from \"jquery\";\n\nimport ModalTrigger     from '../widgets/modal_trigger.jsx'\nimport SparqlResults    from './sparql_results.jsx'\nimport SearchInputField from '../widgets/search_input_field.jsx'\n\n\nvar SparqlSearch = React.createClass({\n\n  getInitialState: function() {\n    return {results: false, isSearching: false}\n  },\n  componentDidMount: function() {\n    this.autoSearch();\n  },\n  componentWillReceiveProps: function(nextProps){\n    if (nextProps.title != this.props.title) {\n      this.setState({results: false});\n    }\n  },\n  componentDidUpdate: function(prevProps) {\n    if (prevProps.title != this.props.title || \n        prevProps.search.endpoint != this.props.search.endpoint ||\n        prevProps.currentEntity != this.props.currentEntity) {\n      this.autoSearch();  \n    }\n  },\n\n  autoSearch: function(e=null){\n    if (e) {e.preventDefault();}\n    let obj = $(\"#search_form\").serializeArray();\n    this.doSearch(obj);\n  },\n\n  doSearch: function(obj) {\n    if(!this.props.currentEntity){ return false;}\n    \n    let val = {entity_uri: this.props.currentEntity};\n\n    obj.forEach(v => {\n      val[v.name] = v.value;\n    });\n\n    let submission = {\n      fields: {\n        select: this.props.select,\n        construct: this.props.construct,\n        where: this.props.where,\n        values: this.props.values\n      },\n      endpoint: this.props.search.endpoint,\n      crm: this.props.search.predicate,\n      values: val\n    }\n    $.post(\"/search\", submission, this.handleResults);\n    this.setState({isSearching: true});\n  },\n\n  handleResults: function (data) {\n    this.setState({results: data, isSearching: false});\n  },\n\n  render: function() {\n    if (!this.props.currentEntity) return false;\n\n    // Generate the list of needed parameters\n    let cols = this.props.values.split(\" \").filter((val) => val != \"?entity_uri\")\n\n    // Generate the secondary input boxes\n    let input_boxes = cols.map((value) => {  \n      let field_name = value.replace(\"?\",\"\");\n      let default_value = this.props[`test_${field_name}`];\n      return (\n        <SearchInputField \n            key={field_name} \n            value={field_name} \n            default={default_value}\n        />\n      )\n    });\n\n    // Wrap the secondary input boxes in boilerplate\n    let query_fields = cols.length == 0 ? \"\" : (\n      <div className=\"row\">\n        <div className=\"col-md-12 col-lg-10 col-lg-offset-1\">\n          <h5>Query-Specific Fields:</h5>\n          <form id=\"search_form\" className=\"form-horizontal\" onSubmit={this.state.isSearching ? null :this.autoSearch}>\n            {input_boxes}\n          </form>\n        </div>\n      </div>\n    )\n\n    // Generate the title\n    let the_title = <h4>{this.props.title} for <a href={this.props.currentEntity} className=\"entity_uri_label\" target=\"_blank\">{this.props.currentEntity.replace(/https?:\\/\\//,\"\")}</a></h4>;\n\n    return (  \n      <section className=\"search\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            {the_title}\n          </div>\n        </div>\n        <SparqlResults search={this.props.search}  title={this.props.title} select={this.props.select} results={this.state.results} showModal={this.props.showModal} />\n        {query_fields}    \n      </section>\n    );\n  }\n});\n\n\n//-----------------------------------------------------------------------------\nexport default SparqlSearch;\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/item/sparql_search.jsx\n **/","import React from 'react';\n\nexport default function(props) {\n  return (\n    <button  \n         className=\"btn btn-info btn-xs hidden-print\" \n         onClick={(e) => props.func(props.text, props.title)}>\n         {props.children}\n    </button>\n  )\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/widgets/modal_trigger.jsx\n **/","/******************************************************************************\n*\n*  This builds the table of serach results.  \n*\n*  Assumes the following properties:\n*    results:   The results of the search.  Is an object.\n*    select:    The select portion of the sparql query.\n*    title:     The page title, used for the Github Issue submit\n*    showModal: The function to display a modal popup.\n* \n******************************************************************************/\n\nimport React from 'react';\n\nimport ModalTrigger     from '../widgets/modal_trigger.jsx'\nimport GithubIssue      from '../widgets/github_issue.jsx'\nimport {truncate}       from '../lib/helpers.jsx'\n\nexport default  React.createClass({\n  render: function() {\n    \n    let content = \"\"; // This will hold the content.\n\n    if (this.props.results) {\n\n      // Set up the table headers\n      let columns = this.props.select.split(\" \");\n      let table_headers = columns.map(function(select_item) {\n        return ( <th key={select_item} >{select_item.replace(\"?\",\"\")}</th>)\n      });\n\n      // Set up the table values\n      // \n      let predicates = {};\n      Object.assign(predicates, this.props.search.prefix, {\"crm\": this.props.search.predicate});\n      let table_rows = null;\n      if (this.props.results.values.length > 0) {\n        table_rows = this.props.results.values.map((result, i) => {\n          let cells = this.props.select.split(\" \").map((key) => {\n            let val = result[key.replace(\"?\",\"\")];\n            if(/^https?:\\/\\//.test(val)) {\n              if(/\\.(?:jpg|png|tif|tiff|svg)$/.test(val)) {\n                val = <a href={val} target='_blank'><img className='img-responsive' src={val} /></a>\n              }else {\n                val = <a href={val} target='_blank'>{truncate(val,50,predicates)}</a>\n              }\n            }\n            return (<td key={`${i}_${key}`}> {val}</td>)\n          });\n          return ( <tr key={i}>{cells}</tr>)\n        })\n      }\n      else {\n        table_rows = <tr><td colSpan={columns.length} className='no_results'>No results found.</td></tr>\n      }\n      content = (\n        <table className=\"table table-hover\">              \n          <thead><tr>{table_headers}</tr></thead>\n          <tbody>{table_rows}</tbody>\n        </table>\n      )\n\n    } else { // No search results\n      content = (\n        <table className=\"table table-hover\">              \n          <thead><tr><td>Searching</td></tr></thead>\n          <tbody><tr><td>...</td></tr></tbody>\n        </table>\n      )\n    }\n\n    return (\n      <div className=\"row results\">\n        <div className=\"col-md-10 col-md-offset-1\">\n          <div className=\"panel panel-default\">\n             {content}\n             <div className=\"panel-footer text-center hidden-printr\">\n               <div className=\"btn-group btn-group-xs \">\n                <ModalTrigger func={this.props.showModal} text={this.props.results.select} title=\"SPARQL Query\">\n                  Show this Query\n                </ModalTrigger>\n                <ModalTrigger func={this.props.showModal} text={this.props.results.object} title=\"Results as Linked Open Data\">\n                  Show this as Turtle\n                </ModalTrigger>\n               </div>\n               <GithubIssue title={this.props.title} query={this.props.results.select}/>\n             </div>\n          </div>  \n        </div>\n      </div>\n    )\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/item/sparql_results.jsx\n **/","import React from 'react';\n\nexport default function(props) {\n  let issueTitle = encodeURIComponent(\"Problem with mapping of \" + props.title)\n  let issueBody = encodeURIComponent(\"I expected to see:\\n\\n*[WHAT I EXPECTED]*\\n\\nbut instead I saw:\\n\\n*[WHAT I SAW]*\\n\\nThe current query was:\\n\\n```ttl\\n\"+props.query+\"\\n```\")\n  let issueLinkUrl = `https://github.com/workergnome/aac_mappings/issues/new?title=${issueTitle}&body=${issueBody}`\n\n  return (\n    <div className=\"github_issue_link\">\n      <a href={issueLinkUrl}>Do you see a problem with this?  Submit an issue.</a>\n    </div>\n  )\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/widgets/github_issue.jsx\n **/","\nexport function truncate(str,len,url_predicates={}) {\n  console.log(url_predicates)\n\n  Object.keys(url_predicates).forEach((key) => {\n    let val = url_predicates[key];\n    if (str.includes(val)) {\n      str = str.replace(val,`${key}:`);    \n    }\n  });\n  if (str.length <=len) { return str;}\n\n  return `${str.substring(0,len-3)}...`\n}\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/lib/helpers.jsx\n **/","import React from 'react';\nimport $ from \"jquery\";\nimport ModalTrigger from '../widgets/modal_trigger.jsx'\n\n\nvar ItemMapping = React.createClass({\n\n  getInitialState: function() {\n    return {svg: \"\"}\n  },\n  componentWillReceiveProps: function(nextProps){\n    if (nextProps.construct != this.props.construct) {\n      this.getSvg(nextProps);\n    }\n  },\n  componentDidMount: function() {\n    this.getSvg(this.props)\n  },\n\n  getSvg: function(data) {\n    if (!data.construct) return false;\n    this.setState({svg: \"\"})      \n    $.post(\"/graph\", {ttl: data.construct, extras: data.extras}, (svg_url) => this.setState({svg: svg_url}) );\n  },\n\n\n  render: function() {\n\n    let svgImage = this.state.svg ? <img className=\"img-responsive center-block\" src={this.state.svg} /> : <p className='textCenter'>Loading Diagram...</p>\n\n    let btn = \"\";\n    if (this.state.svg) {\n      btn = (\n        <div className=\"row\">\n          <div className=\"col-lg-10 col-lg-offset-1 text-center\">\n            <ModalTrigger \n              func={this.props.showModal} \n              text={this.props.construct} \n            >\n              Show Mapping as Turtle\n            </ModalTrigger>\n          </div>\n        </div>\n        )\n    }\n\n    return (\n      <section className=\"illustration\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <h4>AAC Target Mapping For <strong>{this.props.fieldTitle}</strong></h4>\n          </div>\n          <div className=\"col-md-10 col-md-offset-1\">\n            <div className=\"illustration_wrapper\">\n              {svgImage} \n            </div>\n          </div> \n        </div>\n        {btn}\n      </section>\n    );\n  }\n});\n\nexport default ItemMapping;\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/item/mapping.jsx\n **/","import $           from \"jquery\";\nimport React       from 'react';\nimport {Modal, Button}     from 'react-bootstrap';\nimport {truncate}       from '../lib/helpers.jsx'\n\n\nconst ContentModal = React.createClass({\n  render() {\n\n    const modalProps = Object.assign({}, this.props);\n    delete modalProps.content;\n    delete modalProps.title;\n    delete modalProps.html;\n\n    let content = this.props.content || \"Nothing to see here...\"\n    if (this.props.html) {\n      let contentObj = {__html: content};\n      content = <div className=\"row\"><div className=\"col-sm-12\"><div dangerouslySetInnerHTML={contentObj}/></div></div>\n    } else {\n      content = <pre>{content}</pre>\n    }\n\n    return (\n      <Modal {...modalProps} bsSize=\"large\" aria-labelledby=\"contained-modal-title-lg\">\n        <Modal.Header closeButton={true} >\n          <h4>{this.props.title}</h4>\n        </Modal.Header>\n        <Modal.Body>\n          {content}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.props.onHide}>Close</Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n});\n\nexport default ContentModal;\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/widgets/content_modal.jsx\n **/"],"sourceRoot":""}