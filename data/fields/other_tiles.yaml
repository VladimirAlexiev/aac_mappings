
# Field Name
title: Other Titles
sort_order: 2

# Metadata
mandatory:   false
multiples:   true
description: "Alternate titles for the work."
example:     "Young Women Picking Fruit"

#Default Test Values
test_object_uri: "http://collection.britishart.yale.edu/id/object/1000"
test_preferred_title_type_url: "http://collection.britishart.yale.edu/id/thesaurus/title/preferred"

# Sparql
select:      "?title ?field_label ?alternate_title_uri"
values:      "?object_uri ?preferred_title_type_url"
construct: |
  ?object_uri a crm:E22_Man-Made_Object .
  ?object_uri crm:P102_has_title _:alternate_title_uri .
  _:alternate_title_uri a crm:E35_Title ;
    rdfs:label ?title ;
    owl:sameAs ?alternate_title_uri ;
    crm:P2_has_type _:title_class .
  _:title_class a crm:E55_Type ;
    owl:sameAs ?title_class ;
    skos:prefLabel ?field_label .
where: |
  ?object_uri a crm:E22_Man-Made_Object .
  ?object_uri crm:P102_has_title ?alternate_title_uri .
  ?alternate_title_uri a crm:E35_Title ;
    rdfs:label ?title .
  OPTIONAL {
   ?alternate_title_uri crm:P2_has_type ?title_class . 
   ?title_class a crm:E55_Type ;
     skos:prefLabel ?field_label .
  }
  MINUS{?alternate_title_uri crm:P2_has_type ?preferred_title_type_url .}
  FILTER (!isBlank(?title_class))
